<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>نافس 2026 - الأعداد والعمليات</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #5d8aa8;
            --header-bg: #4a708b; /* لون الواجهة المغاير */
            --secondary-color: #f0f4f8;
            --text-color: #333;
        }

        body {
            font-family: 'Cairo', sans-serif;
            background-color: var(--secondary-color);
            margin: 0; padding: 15px;
            display: flex; flex-direction: column; align-items: center;
        }

        /* تنسيق الواجهة العلوية */
        .header {
            text-align: center;
            background: var(--header-bg);
            color: white;
            padding: 15px;
            border-radius: 15px;
            width: 100%; max-width: 650px;
            margin-bottom: 20px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }

        .header h1 { margin: 0; font-size: 20px; }
        .school-name { font-size: 15px; margin-top: 5px; opacity: 0.9; }

        /* سطر المعلم والمدير */
        .staff-info {
            display: flex;
            justify-content: center;
            gap: 10px;
            font-size: 12px; /* خط أصغر للجوال */
            margin-top: 10px;
            border-top: 1px solid rgba(255,255,255,0.2);
            padding-top: 8px;
            white-space: nowrap;
        }

        .quiz-container {
            background: white;
            padding: 25px;
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.05);
            width: 100%; max-width: 650px;
            text-align: center;
        }

        .progress-container { margin-bottom: 20px; }
        .progress-bar { height: 8px; background: #eee; border-radius: 4px; overflow: hidden; }
        .progress-fill { height: 100%; background: var(--primary-color); width: 0%; transition: 0.3s; }

        .question-text { font-size: 20px; font-weight: bold; margin-bottom: 25px; }

        .options-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
        
        .option-btn {
            padding: 15px; font-size: 17px; border: 2px solid #eee;
            border-radius: 12px; background: white; cursor: pointer;
            font-family: 'Cairo', sans-serif; transition: 0.2s;
        }
        .option-btn:active { background: #f0f0f0; transform: scale(0.98); }

        .result-screen { display: none; }
        .wa-btn {
            background-color: #25D366; color: white; border: none;
            padding: 12px 25px; border-radius: 10px; font-size: 16px;
            cursor: pointer; font-family: 'Cairo'; margin-top: 20px;
        }

        @media (max-width: 480px) {
            .options-grid { grid-template-columns: 1fr; }
            .staff-info { font-size: 11px; gap: 5px; }
        }
    </style>
</head>
<body>

<div class="header" id="main-header">
    <h1>اختبار نافس الوطني التجريبي 2026</h1>
    <div class="school-name">مدرسة سعيد بن المسيب الابتدائية بأبها</div>
    <div class="staff-info">
        <span>أ. عمرو العمري (معلم المادة)</span>
        <span>|</span>
        <span>أ. عبدالرحمن النقاز (مدير المدرسة)</span>
    </div>
</div>

<div class="quiz-container" id="quiz-box">
    <div id="start-screen">
        <h3>مرحباً بك يا بطل</h3>
        <p>الرجاء كتابة اسمك الثلاثي للبدء:</p>
        <input type="text" id="student-name" style="padding:10px; width:80%; border-radius:8px; border:1px solid #ccc; margin-bottom:15px; text-align:center; font-family:'Cairo';">
        <br>
        <button class="option-btn" style="background:var(--primary-color); color:white; width:100px;" onclick="startQuiz()">ابدأ</button>
    </div>

    <div id="quiz-content" style="display:none;">
        <div class="progress-container">
            <div id="q-counter" style="font-size:13px; color:#666; margin-bottom:5px;">السؤال 1 من 15</div>
            <div class="progress-bar"><div class="progress-fill" id="progress-fill"></div></div>
        </div>
        <div class="question-text" id="question-text"></div>
        <div class="options-grid" id="options-grid"></div>
    </div>
</div>

<div class="quiz-container result-screen" id="results">
    <h2 style="color:var(--primary-color);">تم الانتهاء بنجاح!</h2>
    <p>شكراً لك يا بطل على المحاولة. سيتم إرسال نتيجتك للمعلم.</p>
    <div id="summary-text" style="background:#f9f9f9; padding:15px; border-radius:10px; margin:15px 0;"></div>
    <button class="wa-btn" onclick="sendToWhatsApp()">إرسال النتيجة للمعلم (واتساب) ✅</button>
</div>

<script>
    const quizData = [
        { q: "ما القيمة المنزلية للرقم (5) في العدد 2534؟", a: ["5", "50", "500", "5000"], c: 2 },
        { q: "الصيغة القياسية للعدد 'ثلاثة آلاف وخمس مئة وأربعة' هي:", a: ["3540", "3054", "3504", "5340"], c: 2 },
        { q: "أي الأعداد التالية يكمل النمط القفزي: 2400، 2600، 2800، ... ؟", a: ["2900", "3000", "2850", "3200"], c: 1 },
        { q: "الترتيب الصحيح للأعداد (1250، 1520، 1052) من الأصغر إلى الأكبر هو:", a: ["1520، 1250، 1052", "1052، 1520، 1250", "1250، 1052، 1520", "1052، 1250، 1520"], c: 3 },
        { q: "أكل محمد 3 قطع من فطيرة مقسمة إلى 8 قطع متساوية. ما الكسر الذي يمثل ما أكله؟", a: ["3/8", "5/8", "8/3", "3/5"], c: 0 },
        { q: "كيف يكتب الكسر 'خمسة أسباع'؟", a: ["7/5", "5/7", "1/7", "5/5"], c: 1 },
        { q: "أي الجمل التالية صحيحة؟", a: ["1/2 > 1/4", "1/4 > 1/2", "1/3 = 1/5", "1/8 > 1/3"], c: 0 },
        { q: "ما الكسر المكافئ للكسر 1/2؟", a: ["1/3", "2/4", "2/3", "3/5"], c: 1 },
        { q: "ناتج عملية الجمع: 345 + 213 = ...", a: ["558", "568", "557", "658"], c: 0 },
        { q: "تقدير ناتج 49 + 32 بالتقريب إلى أقرب عشرة هو:", a: ["70", "80", "90", "100"], c: 1 },
        { q: "مع أحمد 500 ريال، اشترى لعبة بمبلغ 200 ريال. كم ريالاً تبقى معه؟", a: ["200 ريال", "300 ريال", "700 ريال", "500 ريال"], c: 1 },
        { q: "الجملة التي تمثل الجمع المتكرر (4 + 4 + 4) هي:", a: ["4 × 4", "3 × 4", "4 + 3", "12 × 1"], c: 1 },
        { q: "وزعت أم 12 قطعة حلوى بالتساوي على 3 أطفال. كم نصيب كل طفل؟", a: ["3 قطع", "4 قطع", "6 قطع", "9 قطع"], c: 1 },
        { q: "ناتج 7 × 8 = ...", a: ["54", "56", "48", "64"], c: 1 },
        { q: "اشترى خالد 5 أقلام بسعر 4 ريالات للقلم الواحد. كم دفع للبائع؟", a: ["9 ريالات", "20 ريالاً", "1 ريال", "25 ريالاً"], c: 1 }
    ];

    let currentIdx = 0, score = 0, studentName = "";

    // منع الإجابة المكررة
    window.onload = () => {
        if(localStorage.getItem('nafis_completed')) {
            document.body.innerHTML = "<div class='quiz-container'><h3>عذراً!</h3><p>لقد قمت بالإجابة على هذا الاختبار مسبقاً.</p></div>";
        }
    };

    function startQuiz() {
        studentName = document.getElementById('student-name').value;
        if(studentName.length < 3) { alert("لطفاً اكتب اسمك الثلاثي"); return; }
        document.getElementById('start-screen').style.display = 'none';
        document.getElementById('quiz-content').style.display = 'block';
        loadQuestion();
    }

    function loadQuestion() {
        const q = quizData[currentIdx];
        document.getElementById("q-counter").innerText = `السؤال ${currentIdx + 1} من 15`;
        document.getElementById("progress-fill").style.width = `${((currentIdx + 1) / 15) * 100}%`;
        document.getElementById("question-text").innerText = q.q;
        const grid = document.getElementById("options-grid");
        grid.innerHTML = "";
        q.a.forEach((opt, i) => {
            const btn = document.createElement("button");
            btn.className = "option-btn";
            btn.innerText = opt;
            btn.onclick = () => {
                if(i === q.c) score++;
                currentIdx++;
                if(currentIdx < quizData.length) loadQuestion();
                else finalize();
            };
            grid.appendChild(btn);
        });
    }

    function finalize() {
        localStorage.setItem('nafis_completed', 'true');
        document.getElementById('quiz-box').style.display = 'none';
        document.getElementById('results').style.display = 'block';
        const wrongs = 15 - score;
        document.getElementById('summary-text').innerHTML = `<strong>الطالب:</strong> ${studentName}<br><strong>الإجابات الصحيحة:</strong> ${score}<br><strong>الإجابات الخاطئة:</strong> ${wrongs}`;
    }

    function sendToWhatsApp() {
        const wrongs = 15 - score;
        const phone = "9665XXXXXXXX"; // ضع رقمك هنا أستاذ عمرو (مثال: 966512345678)
        const text = `تقرير اختبار نافس 2026%0A-----------------%0Aاسم الطالب: ${studentName}%0Aالنتيجة: ${score} من 15%0Aالصح: ${score} ✅%0Aالخطأ: ${wrongs} ❌`;
        window.open(`https://wa.me/${phone}?text=${text}`, '_blank');
    }
</script>
</body>
</html>
